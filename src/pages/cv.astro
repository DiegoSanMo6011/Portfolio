---
import MainLayout from '../layouts/MainLayout.astro';
---

<MainLayout title="CV">
  <div class="max-w-5xl mx-auto">
    <header class="mb-6 text-center">
      <h1 class="text-3xl font-bold text-white">Curriculum Vitae</h1>
      <p class="text-slate-400">Descarga directa o vista previa del PDF.</p>
    </header>

    <div class="flex flex-wrap justify-center gap-3 mb-6">
      <a href="/cv?doc=robotics" class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-cyan-500 text-slate-900 font-bold text-xs uppercase tracking-wide shadow-lg shadow-cyan-500/20 hover:bg-cyan-400 transition">
        CV Robotics
      </a>
      <a href="/cv?doc=software" class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-slate-800 text-slate-100 font-bold text-xs uppercase tracking-wide border border-slate-700 hover:border-cyan-400 hover:text-white transition">
        CV Software/Product
      </a>
      <a href="/cv?doc=legacy" class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-slate-800 text-slate-100 font-bold text-xs uppercase tracking-wide border border-slate-700 hover:border-cyan-400 hover:text-white transition">
        CV General (Legacy)
      </a>
      <a href="/" class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-slate-900 text-slate-200 font-bold text-xs uppercase tracking-wide border border-slate-700 hover:border-cyan-400 hover:text-white transition">
        Regresar
      </a>
    </div>

    <div class="relative w-full overflow-hidden rounded-2xl border border-slate-700/70 bg-slate-900/40">
      <div class="pt-[129%]"></div>
      <iframe
        id="cv-preview"
        class="absolute inset-0 w-full h-full"
        src="/assets/docs/Diego-Gerardo-Sanchez-Moreno-CV-Robotics.pdf"
        title="CV Diego Gerardo SÃ¡nchez Moreno"
      ></iframe>
    </div>
  </div>

  <script>
    const cvMap = {
      robotics: '/assets/docs/Diego-Gerardo-Sanchez-Moreno-CV-Robotics.pdf',
      software: '/assets/docs/Diego-Gerardo-Sanchez-Moreno-CV-Software.pdf',
      legacy: '/assets/docs/Diego-Gerardo-Sanchez-Moreno-CV.pdf',
    };
    const params = new URLSearchParams(window.location.search);
    const doc = params.get('doc');
    const iframe = document.getElementById('cv-preview');
    if (iframe && doc && cvMap[doc]) {
      iframe.setAttribute('src', cvMap[doc]);
    }
  </script>
</MainLayout>
